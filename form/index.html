<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
	<title>Form</title>
</head>
<body>
	<form class="contact" action="#">
        <p>Имя:</p><input class="name" type="text" placeholder="">
        <p>Телефон:</p><input class="tel" type="text" placeholder="">
        <p>E-mail:</p><input class="email" type="text" placeholder="">
        <p>Текст:</p><textarea></textarea><br>
        <input class="sub" type="submit"> 
    </form>



    <script>
        "use strict";

    /*3. Создать форму обратной связи с полями: Имя, Телефон, E-mail, текст, кнопка Отправить. При нажатии на кнопку Отправить 
         произвести валидацию полей следующим образом:
          a. Имя содержит только буквы.
          b. Телефон имеет вид +7(000)000-0000.
          c. E-mail имеет вид mymail@mail.ru, или my.mail@mail.ru, или my-mail@mail.ru.
          d. Текст произвольный.
          e. Если одно из полей не прошло валидацию, необходимо выделить это поле красной рамкой и сообщить пользователю об ошибке.*/
        
    
    let button = document.querySelector(".sub");
    button.addEventListener("click", function () {
        gettingFormFields();
    });

    function gettingFormFields() {
        let name = document.querySelector(".name");
        let tel = document.querySelector(".tel");
        let eMail = document.querySelector(".email");
        startFormNameValidation(name); 
        startFormTelValidation(tel);
        startFormeMailValidation(eMail);   
    };

    function startFormNameValidation(name) {
        if(name.value === name.value.replace(/[^\D]/g, '')) {
            name.classList.remove("color");
        } else {
            name.classList.add("color");
            alert("Поле формы 'Имя' должно содержать только буквы");
        };        
    };

    function startFormTelValidation(tel) {
        let regExp = /^\+?[7][\(]?\d{3}\)?\d{3}-?\d{4}$/;
        let valid = regExp.test(tel.value);
        if(valid) {
            tel.classList.remove("color");
        } else {
            tel.classList.add("color");
            alert("Поле формы 'Телефон' должно содержать такой формат '+7(000)000-0000'");
        };           
    };

    function startFormeMailValidation(eMail) {
        let regExp = /^[a-z]{2}[\a-z-\.]*@[a-z]+\.[a-z]{2}$/i;
        let valid = regExp.test(eMail.value);
        if(valid) {
            eMail.classList.remove("color");
        } else {
            eMail.classList.add("color");
            alert("E-mail введён не верно" );
        };           
    };

    </script>
</body>
</html>